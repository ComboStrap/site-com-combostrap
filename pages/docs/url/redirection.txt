====== ComboStrap URL Management - Redirection ======

===== About =====
A redirection occurs when a [[404|missing/non-existing page]] is requested.

The [[#processing|processing]] and the [[#type|type of redirections]] executed are explained below.


===== Type =====

''ComboStrap'' performs four kind of redirection:
    * a [[transparent|transparent redirection]] when:
        * the requested url is the [[docs:url:canonical|page url]]
        * the page has [[docs:metadata:alias#synonym|synonym alias]]
        * the path is [[docs:url:ban|banned]]
    * a [[permanent|permanent redirection]]  (visible by the user and search engine) when:
        * the requested url is a [[docs:url:permalink#generated|generated permalink]]
        * the page has a [[docs:metadata:alias#redirect|redirect alias]]
        * the requested url is a [[docs:url:canonical#permanent|permanent url]] but does not match the current page url.
    * a [[notfound|not found redirection]] when the redirected destination was determined by the [[action|redirection algorithms]]
    * a [[edit|editor redirection]] when the user is a writer.

===== Processing =====

The redirection procedure / processing is explained below.

If the requested page at the path ''p'' [[404|does not exist]]:
  - if this is a [[ban|banned path]], redirect [[docs:url:transparent|transparently]] to the home page
  - if this is a [[docs:url:canonical|valid page url]], redirect [[docs:url:transparent|transparently]]
  - if this is a [[docs:url:canonical#permanent|permanent url]] that does not match the [[docs:url:canonical|page url]], redirect with a [[docs:url:permanent|permanent redirection]]
  - if an existing page with a [[docs:metadata:canonical|canonical]] is found, perform a [[docs:url:transparent|transparent redirection]]
  - if an existing page with an [[docs:metadata:alias|alias]] is found, redirect to this page 
      - with a [[permanent|permanent redirection]] if the alias type is ''redirect''
      - with a [[docs:url:transparent|transparent redirection]] if the alias type is ''synonym''
  - if a [[page_rules|page rules redirect]] applies, redirect to the calculated page with a [[docs:url:permanent|permanent redirection]].
  - if the user has a write permission, [[edit|redirect the writer to the editor]]
  - if the user has only read permission, follow the [[action|redirect actions]] in order

===== History =====
You can query the redirection via the [[log|log]].