---json
{
    "canonical": ":page:cache",
    "name": "Page Cache",
    "page_id": "p46nws4v027jel84v4a9m"
}
---
====== How the page cache is working ?======



===== About =====
This page is talking about the cache management of a page.

A page is composed of [[docs:layout:page:slot|slot]] (main, side) and each slot rendering goes into the cache until:
  * its content has changed
  * its [[docs:metadata:metadata|metadata]] has changed
  * any [[docs:app:configuration|app configuration]] is changed.
  * the [[#expiration date|expiration date]] is not due.


<note>
The [[docs:cache:sideslots|sideslot cache]] expires also when the name, h1, title or description metadata of the main slot changes. See the dedicated page about automatic side slot cache management: [[docs:cache:sideslots]]
</note>


===== Expiration Date =====

You can set the expiration date of a page with two methods:
  * by page: the [[#expiration frequency]]
  * globally: the [[#cache time interval]] (maximum age)
==== Expiration Frequency ====

If you need to delete the page cache at interval because your page contains time-based data,
you can use the [[docs:cache:page_expiration_frequency|page cache expiration frequency]].

==== Cache time interval ====
The ''cache time'' interval is a standard dokuwiki [[docs:app:configuration|application configuration]] that sets a maximum age for the cache file.

If the interval has expired since the last creation date of the cache, the cache has expired and there is a cache miss.

You can read more on the [[doku>config:cachetime|Dokuwiki dedicated page]].



===== Monitoring =====

In the ''cache'' tab of the [[docs:metadata:manager|metadata manager]], you can see all cache hit or miss for the [[docs:layout:page:slot|slots]].


For each slot, you can see the cache:
  * for the parsing instructions (the parse tree)
  * for the html page
  * for the [[docs:metadata:metadata|metadata]]

After 3 rendering, you should see only cache hits.
  * the first rendering will do the initial work
  * the second one will be partial  because we set a [[docs:analytics:replication|database replication date]] in the metadata
  * the third one should be only cache hit.


{{:docs:cache:combostrap_cache_hit.png|}}



<note>
When you hover on the cache hit link, you can see the individual date time of each cache file
</note>


