---json
{
    "h1": "ComboStrap Analytics - Database",
    "page_id": "afesgbz3stzslqrz5jxxn"
}
---
====== ComboStrap Analytics - Sqlite Database ======


===== About =====
All ''ComboStrap'' data are stored in a Sqlite Database.



===== Tables =====
The database schema has the following tables:
  * ''pages'' - [[data|data on pages]]:
      * ''page_id'': the page id
      * ''canonical'': the [[docs:page:canonical|canonical]]
      * ''analytics'': the [[data|json analytics data]]
  * ''page_aliases'' - the [[docs:router:alias|page aliases]]
  * ''page_rules'' - the [[docs:router:page_rules|page_rules]]
  * ''redirections_log'' - the [[docs:router:log|log redirection history]]
  * ''opts'' - an internal table that manage the database version <inote important>don't delete</inote>

You can [[query|query the database online]]

===== File Location =====
The database is stored at ''DOKUWIKI_HOME/data/meta/''.

Depending on your history with our plugins, its name may be:
  * ''combo.sqlite3''
  * ''webcomponent.sqlite3'' (older)
  * ''404manager.sqlite3'' (older)

===== Configuration =====

If you have a high traffic, we recommend to use the [[https://sqlite.org/wal.html|write-ahead log]] to reduce blocking.
By default, Sqlite uses the old traditional journal.

Steps:

  * [[query#Go to the Sqlite Interface|Go to the sqlite interface]]
  * Check the Sqlite version (above 3.7 - 2010)

```sql
select sqlite_version();
```

  * Modify the journal to `write-ahead log` (WAL)

```sql
PRAGMA journal_mode=WAL;
```

  * Verify the new journal mode

```sql
PRAGMA journal_mode;
```
