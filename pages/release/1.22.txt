---json
{
    "canonical":"release:1.22"
}
---

====== ComboStrap - Release 1.22 ======



===== List of changes =====

==== New ====
  * The [[docs:type:home|home]] page attribute ''is_home'' in order to be able to select the home pages within [[docs:templating:sql|page sql]]
  * The [[docs:content:link#enableenhancedlinkwizard|enhanced link wizard]] to search also on path, title, heading and name of a page.
  * [[docs:templating:sql|Page SQL]] can now return [[docs:navigation:backlink|backlink pages]]
  * ''references between pages'' (ie [[docs:content:link|link]] and [[docs:navigation:backlink|backlink]]) are now [[docs:analytics:replication|replicated]] in the [[docs:analytics:database|database]]
  * The [[docs:layout:component:grid|grid]] layout can now be used within an [[docs:templating:iterator|template iterator]]
  * [[docs:metadata:description|description]] is now loaded into the [[docs:analytics:database|database]]
  * Added microsoft ''codicon'', ibm ''carbon'' and ''logos'' as [[docs:content:icon|icon library]]
  * Added a page on the internal search engine. See [[docs:app:search]]
  * Lockfile protection for the [[support:plugin#move|move plugin]]. When a move goes wrong, a lock file may stay in the data directory. We cancel the move if the lock file age is bigger than 10 minutes.
  * A [[docs:metadata:lang|language region]] will be determined from the server if not set.
  * The [[docs:metadata:viewer|metadata viewer window]]. A window that shows all raw metadata known by your installation for a specific page.
  * The [[docs:metadata:alias|page alias]] have migrated into a table with the [[docs:metadata:uuid|uuid]] as foreign key.

==== Deprecated ====

  * The [[docs:metadata:frontmatter|frontmatter]] cannot be used to enter metadata anymore. You need to use the [[docs:metadata:manager|metadata manager]].
  * The ''autofrontmatter'' feature has been deleted (due to the advent of the [[docs:metadata:manager|metadata manager]].
  * With the advent of  the [[docs:metadata:viewer|metadata viewer window]],
      * the metadata does not need to be show in the editor and therefore the ''enableMetadataViewerWhenEditing'' configuration became obsolete and was deprecated.
      * the special [[docs:type:organization|organization field]] has been deprecated. You should use now the [[docs:social:google#json-ld|json-ld field instead]]

==== Improvement ====
  * The [[docs:analytics:replication|data synchronization process]] is now treated as a real replication and got a ''date_synchronization'' and a [[docs:metadata:uuid|universal id]]. The synchronization is now also based on the database version file.
  * the [[docs:analytics:replication|replication table]] ''ANALYTICS_TO_REFRESH'' has been renamed to ''PAGES_TO_REPLICATE'' to get more accurate
  * the [[docs:metadata:frontmatter|frontmatter]] metadata are [[docs:analytics:replication|replicated]] directly to avoid inconsistency with [[docs:templating:sql|page sql]]
  * The [[docs:social:google#json-ld|google json-ld]] supports now a full json-ld value. It's easier to valid it with the playground for the user.

==== Changes ====
  * The acronym / name of  a [[docs:content:icon|icon library]] follows the library name of the [[https://icon-sets.iconify.design/|iconify search engine]]. Therefore:
      * for bootstrap, ''bs'' is now ''bi''
      * for material design, ''md'' is now ''mdi''
  * To support the old icon library, the icons are not moved to the new directory.
  * The ''country'' metadata is now known as the [[docs:metadata:region|language region]] to be more accurate as the region is often but not always a country.
  * The ''buster'' key has been changed to ''tseed'' to be in line with dokuwiki.

==== Bug ====
  * After a change in the [[docs:performance:svg_optimization|svg optimization]], the svg shown will not refresh. Cause: The [[docs:cache:static|static cache]] ''buster'' was using the time of the original SVG file and not from the optimized file.
  * Not able to navigate to an heading from a link fragment for a [[docs:content:link#internal|internal link]]. Bug: the fragment was not qualified as fully section id (letting spaces in it)
  * The first rendering of a [[docs:content:svg|SVG]] would be empty. The cause root was that the buster calculation of the [[docs:cache:static|static cache]] would close the rendering of the svg and the src would set not be added. Resolution: we make a difference between request and response attribute and we have added an error message when the tag attributes are finalized twice.
  * The ''svg'' cache was not dependent on its [[docs:performance:svg_optimization|optimization configuration]].
  * The new [[docs:semantic:date|date format]] was not applied on the [[docs:metadata:published|published date]] causing a not valid date error message.
  * A page move would create two pages in the [[docs:analytics:database|database]]. The move  is now automatically [[docs:analytics:replication|replicated]] making it consistent.
  * Bug: The [[docs:content:image|media]] statistics was crashing the page because it was asking the image and not the media file on third media such as video, pdf, ...
  * [[docs:performance:lazy|lazy load]] on small [[docs:content:raster|raster image]] was showing a broken image at page load because the placeholder was not set.
  * bug: [[docs:navigation:outline|outline numbering]] was not reset for the heading level 3
