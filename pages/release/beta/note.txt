---json
{
    "canonical": ":beta:note",
    "date_published": "2028-10-01T00:00:00+00:00",
    "page_id": "u41lj62e7b6jd1j7hzgi8"
}
---
====== Beta - Note ======



===== Bug =====
  * Bug: file is parsed here
<code>
=== -c/--cookie-jar <file name> ===
</code>
  * mode nest is unknown
<file>
 The display of the call with the mode nest is unknown - 162.158.94.3 - code:design:reusable
</file>
  * Moving a page:
      * with a self link will destroy the link. Example of link that will break after moving a page with it inside
      * without a start page will break also
<code dw>
[[?do=export_combo_analytics|View the analytical data for this page]]
[[tree:|trees]]
</code>

===== Improvement =====
==== Release / Deployment ====

  * The deployment of the configuration file is done manually.
  * Working on website release via git
  * export ([[https://github.com/i-net-software/dokuwiki-plugin-siteexport/issues/116|siteexport issue]]), note the configuration should be change from ''wiki:export.zip'' to ''export.zip'' to get it working, log file is the full path)

==== GUI ====
  * The basic message area should be a toaster to see them always
  * slot improvement
      * slot explorer - to see where they are (we got it in the [[docs:cache:cache|cache data]])
      * [[docs:ads:conf]] could be automated
  * monospace /tanle in the renderer should be a component
  * add a previous page, next page. (Example at the bottom: https://docs.aws.amazon.com/corretto/latest/corretto-8-ug/downloads-list.html)
  * add an edit page button (example: https://kotlinlang.org/docs/control-flow.html)
  * multiple background to add a black layer to add more contrast
==== Devops ====

  * in `/var/log/php-fpm/error.log`
<file>
[01-Sep-2021 23:28:12] WARNING: [pool www] server reached pm.max_children setting (50), consider raising it
</file>
  * [[docs:layout:component:masonry|card-columns]] as a real [[https://masonry.desandro.com/layout.html#responsive-layouts|responsive masonry]] ?


==== Svg to Png to WebP ?====

  * [[https://github.com/meyfa/php-svg|Php svg]]
  * ImageMagic (command line)
  * [[https://xmlgraphics.apache.org/batik/|Batik]] (svg java)
  * from [[https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/drawImage|canva drawImage]] can use svg as source
==== Documentation ====
  * namespace documentation ? https://help.fandom.com/wiki/Namespaces
  * Landing page: self-managed vs hosted documentation


==== Analytics ====

Download Tracking
 * [[https://github.com/googleanalytics/autotrack/blob/master/docs/plugins/event-tracker.md|tracking download]] ([[https://www.datadrivenu.com/track-downloads-google-analytics/|blog]])

  * GTM: After the body

<code html>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MD83VQ8"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
</code>

==== Template - from sidebar ====
Should solved that: https://forum.dokuwiki.org/d/19414-pdf-file-from-the-sidebar/7

Add an export button for the main page. Example
<code dw>
<template target="main"/>
</code>

==== Footnote ====

Adding a [[docs:content:footnote|footnote]] rendering syntax, to add or not the footnotes at the foot of the page.

  * See also [[doku>plugin:refnotes:refdb]]
  * Implemented as ref as in [[https://en.wikipedia.org/wiki/Help:Footnotes|Wikipedia solution]]. Add a name attribute when creating a footnote <ref name="name">citation text</ref>. Thereafter, the footnote may be referenced by just using the following expression <ref name="name" />.
<code dw>
<ref name="Smith">citation</ref>
<!-- At the end, reference may be added  -->
<references>
   <ref name="Smith">citation</ref>
</reference>
</code>
  * Latex: known as fnref (footnote ref)
<code>
fnref
</code>
  * [[https://www.markdownguide.org/extended-syntax/#fnref:1|markdown]]



==== Citation creation for a page ====

Wikipedia citation generator: Create a citation with https://en.wikipedia.org/w/index.php?title=Special:CiteThisPage

markdown
<code dw>
[[URL]] ([[Special:Permalink/1048495552|this version]])
</code>


==== Data definition for page-explorer ====

As of today, the data is taken from the file system but we could also get it from sql or tabular data

See [[https://forum.dokuwiki.org/d/19593-nspages]]
==== Template - of a page (footer and header) ====

  * template to generate a list of pages with sql
      * Templating for the current page ([[https://forum.dokuwiki.org/d/19399-purge-on-a-namespace/7|example]]) - 

==== Sql Aggregation ====

[[https://www.dokuwiki.org/plugin:struct:aggregation|aggregation]]


==== Sql Date Diff ====

<code sql>
select
	id,
	date_modified,
	date_created,
	date_modified - date_created,
	(strftime('%s',date_modified) - strftime('%s',date_created))/60/60/24 as dayDiff,
	(strftime('%s',date_modified) - strftime('%s',date_created)) as secDiff
from
	pages
order by date_created desc
limit 8
</code>
==== Git-based workflow ====

An intuitive Git-based workflow and powerful serverless platform to build, deploy, and collaborate on web site and documentation.





==== Tag ====

Create tag page as image in frontmatter

==== Snapshot as illustration ====

  * https://github.com/carbon-app/carbon - Create and share beautiful images of your source code. ([[https://github.com/mixn/carbon-now-cli#installation|cli]])
  * Just text to image: https://github.com/ttodua/useful-php-scripts/blob/master/text-to-image.php

Example: https://threadreaderapp.com/images/screenshots/thread/1440247034187968519.jpg for the [[https://threadreaderapp.com/thread/1440247034187968519.html|page]]
  * Image: 1200 x 628
  * Resolution 72,00



==== Page Move bug ====
  * in [[docs:content:page-image|Page-image Component: Renders the illustrative image of your page]]
<code dw>
<page-image path=":docs:content:page-image" />
</code>

==== Editor ====
See: https://www.mediawiki.org/wiki/Help:VisualEditor/User_guide
==== Git ====

One branch, one website.

Files:
  * conf
  * data:
      * media
      * pages

https://www.dokuwiki.org/plugin:gitbacked

==== Caching Heading ====

In [[docs:layout:component:slide|slide]], this is important to have an heading for navigation but you may not want to output it.

Example:
<code dw>
<heading visible="none">Cache heading</heading>
</code>


==== Graph ====
A graph view with:
  * filtering on node
  * on link direction:
      * outgoing
      * incoming
  * depth: 1, 2 ...5

See [[https://help.obsidian.md/Plugins/Graph+view|graph component]] of obsidian 
===== Cookie banner =====
Good example at: https://groningen.nl/en/

Offcanvas at the bottom

<file>
=== This website uses cookies ===

To make your visit to our website even easier and more personal we use cookies (and comparable techniques). With this cookies we and third parties are able to collect information about you and your internet behavior on our website (and possibly outside of our website). With this information we and third parties are able to adapt content to your interests and profile. In addition, cookies allow us to share information through social media. You can read more about our cookie policy on this page.


x Functional cookies: These cookies ensure the website works

x Marketing cookies: These cookies are used to measure how visitors interact with our website to keep improving

<btn>Accept All</btn><btn>Save Preferences</btn>
</file>

==== Serverless / Vercel ====
  * https://github.com/juicyfx/vercel-examples/blob/master/php-wordpress
  * Runtime:
      * The runtime is a [node module runtime](https://github.com/vercel/vercel/blob/main/DEVELOPING_A_RUNTIME.md)
      * php runtime implements it [here](https://github.com/juicyfx/vercel-php/blob/master/src/index.ts)
      * The [[https://vercel.com/docs/runtimes#advanced-usage/developing-your-own-runtime|documentation]]


Cloudflare has also workers for php
===== Seo =====

==== Step by step ====

  * Step by step in Google Search: for instance [[https://www.launch2success.com/guide/advanced-find-and-replace-in-notepad/|this page]] found with ''notepad replace''


===== Lazy load =====
  * Noscript handling for [[docs:performance:lazy|lazy loading]] Better for seo also. See [[https://github.com/ApoorvSaxena/lozad.js/wiki/Frequently-Asked-Questions#how-to-load-images-normally-when-javascript-is-disabled|doc]]
  * Supports Background image

  * Supports Video: [[https://forum.dokuwiki.org/d/19653-displaying-image-instead-of-video/5|Forum]] By default, standard HTML, Lazy loading video elements means, that:
      * it will lazy load a poster image if set (not the case for your videos) 
      * and sets the preload attribute to none (so the browser does not start loading the video)

With [[https://github.com/aFarkas/lazysizes/tree/gh-pages/plugins/unveilhooks|unveilhooks]], the class should switch to lazyloaded and the preload is changed to auto
ie For video/audio use data-poster and preload="none" (by default preload="metadata")
<code html>
 <video class="lazyload" preload="none" data-poster="poster.jpg" src="src.mp4">
 <!-- sources -->
 </video>
</code>


===== Design Check list =====


  * https://www.checklist.design/
  * https://github.com/thedaviddias/Front-End-Checklist#how-to-use

===== Nsw =====

https://new.nvsw.nl/

===== Data =====

  * Airtable
  * Google Sheets
  * Notion


=====  Website Cost =====


  * https://designagency.io/


===== Marketing =====


  * https://www.indiehackers.com/product/softr
  * https://producthunt.com/posts/softr

===== New Release =====


  * https://noticeable.io/ (https://www.softr.io/whats-new)

===== Alias =====


  * Alias example: 
      * php/switch 
      * and php/case
  * Reverse / Permalink ? html:svg = svg:html

===== Parser =====

Javascript parser should be chosen to parse on the server and on the browser !

Features:
  * support for:
      * lookback 
      * and lookahead patterns -  lookahead pattern to check for the closing markup first (known also as validation mode)
  * Lexical mode 
  * Position in the file
  * token type:
      * a block of block (layout) - does not open a logical p
      * a block of inline (content) - open a logical p
          * For instance: in commonmark, a block_quote block create an open paragraph block as child.
      * an inline node - does not live outside a logical p
  * Multiple Start Rules (([[https://chevrotain.io/docs/features/multiple_start_rules.html]])) - any subset of a language can be parsed without being wrapped in other constructs. Usage:
     * Implementing "debugger watch expressions" and "evaluate expression" in an IDE.
     * Parsing only modified text in an IDE for performance.
     * Easy unit testing for small language snippets.
  * Not two type of block such as inline and block. Ie a block just starts at a new line not inline.
  * Soft wrap support: Paragraph are not closed in case of [[https://spec.commonmark.org/0.30/#lazy-continuation-line|lazy continuation line]] 
  * A block may asks to subscribe to its children (tokenizer or rendering)
      * For instance, a paragraph block is rendered in HTML
            * by default with a p
            * but a block may render it with another tag or not at all ([[https://getbootstrap.com/docs/4.0/components/card/#body|body card in bootstrap for instance does not have any p if there is no other children]])
        * Advantage: No lookback on the tree at tag closure - Better Speed
  * A block may impose a condition that the next line must satisfy if the block is to remain open. (([[https://spec.commonmark.org/0.30/#phase-1-block-structure]]))
     * For example:
      * A block quote requires a > character. 
      * A paragraph requires a non-blank line. 
  * Sibling / Parent node may be replaced. ie In Common Mark: [[https://spec.commonmark.org/0.30/#setext-heading-underline|Setext headings]] are formed when we see a line of a paragraph that is a setext heading underline.
  * Node type:
      * opening
      * self-closing
      * closing
  * A mode may accept or refuse a token
  * An env can be used alongside:
      * tokens 
      * lexer
  * Mode Order / Override.
    * If a mode is applied twice, it comes in a stack. The last one is called and if it returns false, the previous mode is chosen in the stack ((See [[https://marked.js.org/using_pro|Example: Overriding default codespan tokenizer to include LaTeX]]))
  * Error reporting. If a mode was not closed properly (ie a mark or a link mode for instance)
  * Sanitize by default
  * Regexp attack test ? ie [[https://owasp.org/www-community/attacks/Regular_expression_Denial_of_Service_-_ReDoS#|Regular_expression_Denial_of_Service]]




FYI:
<code javascript>
const blockHtml = marked.parse('**strong** _em_');
console.log(blockHtml); // '<p><strong>strong</strong> <em>em</em></p>'

const inlineHtml = marked.parseInline('**strong** _em_');
console.log(inlineHtml); // '<strong>strong</strong> <em>em</em>'
</code>






[[https://marked.js.org/using_advanced#workers|Workers or Server when too long]]


===== Landing Page =====
  * [[https://twitter.com/maiale/status/1419687196311752704|Thread]]
  * Example: https://www.swytchbike.com/p/universal-ebike-conversion-kit/

===== Website Template (not templating) =====

  * https://codyhouse.co/templates
  * https://mdbootstrap.com/freebies/
  * https://mdbootstrap.com/docs/standard/lab/

Example:
  * https://www.vanwijkzitspecialist.nl/
===== Template functionality =====
Just ''$VAR''

  * [[https://www.dokuwiki.org/plugin:wst|Template]]
  * HTML Template: https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_templates_and_slots
  * Angular: https://angular.io/guide/structural-directives#structural-directive-shorthand

```html
<ng-template [ngIf]="hero">
  <div class="name">{{hero.name}}</div>
</ng-template>
```

https://twig.symfony.com/ (https://www.dokuwiki.org/template:twigstarter)

===== Issue template =====

https://docs.github.com/en/github/building-a-strong-community/manually-creating-a-single-issue-template-for-your-repository
https://github.com/giterlizzi/dokuwiki-template-bootstrap3/tree/master/.github





===== Internationalization / Translate =====
  * [[https://github.com/michitux/dokuwiki-plugin-move/issues/145|Translation file are not moving]]
  * Not the same schema by language

===== Namespace =====


<code json>
{
   "canonical": "jq",
   "namespaces": ["[[markup:json:json]]","[[data:processing:shell:shell]]"]
}
</code>







===== Chat: Mail to and sms to =====

  * Mail opener and Call opener Wrapper: https://mailgo.dev/


===== Miscellaneous =====
  * [[https://www.dokuwiki.org/include_hooks|include-Hooks]] (meta)
  * [[https://aerolab.github.io/midnight.js/|Midnights]] ([[https://github.com/Aerolab/midnight.js|code]]) [[docs:menubar:fixed-top|fix topbar]] with differents colors depending on the background
  * Don't redirect missing [[docs:layout:page:slot|bars]]
  * [[docs:type:article|Article]] role:
      * [[https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/Article_Role|Add article role]]
      * [[https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Techniques/Using_the_article_role|Article role]]
  * [[https://docs.microsoft.com/en-us/previous-versions/windows/internet-explorer/ie-developer/platform-apis/dn320426(v=vs.85)?redirectedfrom=MSDN|Browserconfig ?]]
<code xml>
<?xml version="1.0" encoding="utf-8"?>
<browserconfig>
    <msapplication>
        <tile>
            <square150x150logo src="/mstile-150x150.png"/>
            <TileColor>#da532c</TileColor>
        </tile>
    </msapplication>
</browserconfig>
</code>
  * Landing Page:
      * Add a [[https://getbootstrap.com/docs/4.4/components/carousel/|Carrousel]]
  * Add notification panel with a bell icon to show short updates ([[https://material-ui.com/|Example]])
  * https://github.com/retextjs/retext:
    * Readiblity
    * Word visualization - https://github.com/wooorm/write-music
	* https://wooorm.com/short-words/
  * Metadata:
      * https://developers.google.com/search/docs/data-types/breadcrumb#breadcrumb-list
      * https://developers.google.com/search/docs/data-types/qapage
      * https://developers.google.com/search/docs/data-types/how-to
  * Image:
      * Add a [[https://getbootstrap.com/docs/4.4/content/figures/|caption to image]]
  * Implement: image bottom for card
  * Cookie Law Banner Notice


===== Pricing =====
  * https://webflow.com/pricing

===== Forms =====
  * https://www.dokuwiki.org/plugin:bureaucracy

===== Prefetch: Performance =====

==== On hover ====

  * https://instant.page/tech
  * https://www.dokuwiki.org/plugin:instantpage
==== On Idle ====

  * https://github.com/GoogleChromeLabs/quicklink


Features:
  * Detects links within the viewport (using Intersection Observer)
  * Waits until the browser is idle (using requestIdleCallback)
  * Checks if the user isn't on a slow connection (using navigator.connection.effectiveType) or has data-saver enabled (using navigator.connection.saveData)
  * Prefetches URLs to the links (using <link rel=prefetch> or XHR). Provides some control over the request priority (can switch to fetch() if supported).

==== On Navigation (Next page) ====

  * https://barba.js.org/docs/getstarted/lifecycle/
  * https://barba.js.org/docs/advanced/strategies/#Prefetch (Prefetch on hover)

Since there is a 100-300ms delay during the user hover and the click, Barba use this time to start prefetching the next page. Most of time, this is enough to get the next page ready.


